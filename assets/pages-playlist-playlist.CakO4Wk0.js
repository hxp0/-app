import{q as t,Q as e,R as l,P as i,k as a,l as s,o as n,c as o,w as r,n as c,f as d,a as u,b as h,d as p,g as f,t as g,i as m,s as y,h as b,a0 as _,j as v,Y as k,a1 as w,r as x,m as S,p as C,F as T}from"./index-8E7-gHrl.js";import{_ as B}from"./uni-icons.DGjAAeZp.js";import{_ as I}from"./uni-badge.DyeLSvP-.js";import{_ as z}from"./plugin-vueexport-helper.BCo6x5W8.js";import{c as F}from"./index.Bljok1Sp.js";const $=z({name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:()=>({})},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:()=>({type:"",color:"#000000",size:20,customPrefix:""})},border:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>({padding:"",backgroundColor:"#FFFFFF"})},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler(t){"number"==typeof t&&(t+="");let e=t.split(" ");if(1===e.length){const t=e[0];this.padding={top:t,right:t,bottom:t,left:t}}else if(2===e.length){const[t,l]=e;this.padding={top:t,right:l,bottom:t,left:l}}else if(4===e.length){const[t,l,i,a]=e;this.padding={top:t,right:l,bottom:i,left:a}}},immediate:!0}},data:()=>({isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm(t="uniList"){let e=this.$parent,l=e.$options.name;for(;l!==t;){if(e=e.$parent,!e)return!1;l=e.$options.name}return e},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange(t){this.$emit("switchChange",t.detail)},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(a){let s={url:this.to,success:t=>{this.$emit("click",{data:t})},fail:t=>{this.$emit("click",{data:t})}};switch(a){case"navigateTo":default:t(s);break;case"redirectTo":i(s);break;case"reLaunch":l(s);break;case"switchTab":e(s)}}}},[["render",function(t,e,l,i,v,k){const w=m,x=y,S=a(s("uni-icons"),B),C=b,T=a(s("uni-badge"),I),z=_;return n(),o(w,{class:c([{"uni-list-item--disabled":l.disabled},"uni-list-item"]),style:h({"background-color":l.customStyle.backgroundColor}),"hover-class":!l.clickable&&!l.link||l.disabled||l.showSwitch?"":"uni-list-item--hover",onClick:k.onClick},{default:r((()=>[v.isFirstChild?d("",!0):(n(),o(w,{key:0,class:c(["border--left",{"uni-list--border":l.border}])},null,8,["class"])),u(w,{class:c(["uni-list-item__container",{"container--right":l.showArrow||l.link,"flex--direction":"column"===l.direction}]),style:h({paddingTop:v.padding.top,paddingLeft:v.padding.left,paddingRight:v.padding.right,paddingBottom:v.padding.bottom})},{default:r((()=>[p(t.$slots,"header",{},(()=>[u(w,{class:"uni-list-item__header"},{default:r((()=>[l.thumb?(n(),o(w,{key:0,class:"uni-list-item__icon"},{default:r((()=>[u(x,{src:l.thumb,class:c(["uni-list-item__icon-img",["uni-list--"+l.thumbSize]])},null,8,["src","class"])])),_:1})):l.showExtraIcon?(n(),o(w,{key:1,class:"uni-list-item__icon"},{default:r((()=>[u(S,{customPrefix:l.extraIcon.customPrefix,color:l.extraIcon.color,size:l.extraIcon.size,type:l.extraIcon.type},null,8,["customPrefix","color","size","type"])])),_:1})):d("",!0)])),_:1})]),!0),p(t.$slots,"body",{},(()=>[u(w,{class:c(["uni-list-item__content",{"uni-list-item__content--center":l.thumb||l.showExtraIcon||l.showBadge||l.showSwitch}])},{default:r((()=>[l.title?(n(),o(C,{key:0,class:c(["uni-list-item__content-title",[0!==l.ellipsis&&l.ellipsis<=2?"uni-ellipsis-"+l.ellipsis:""]])},{default:r((()=>[f(g(l.title),1)])),_:1},8,["class"])):d("",!0),l.note?(n(),o(C,{key:1,class:"uni-list-item__content-note"},{default:r((()=>[f(g(l.note),1)])),_:1})):d("",!0)])),_:1},8,["class"])]),!0),p(t.$slots,"footer",{},(()=>[l.rightText||l.showBadge||l.showSwitch?(n(),o(w,{key:0,class:c(["uni-list-item__extra",{"flex--justify":"column"===l.direction}])},{default:r((()=>[l.rightText?(n(),o(C,{key:0,class:"uni-list-item__extra-text"},{default:r((()=>[f(g(l.rightText),1)])),_:1})):d("",!0),l.showBadge?(n(),o(T,{key:1,type:l.badgeType,text:l.badgeText,"custom-style":l.badgeStyle},null,8,["type","text","custom-style"])):d("",!0),l.showSwitch?(n(),o(z,{key:2,disabled:l.disabled,checked:l.switchChecked,onChange:k.onSwitchChange},null,8,["disabled","checked","onChange"])):d("",!0)])),_:1},8,["class"])):d("",!0)]),!0)])),_:3},8,["class","style"]),l.showArrow||l.link?(n(),o(S,{key:1,size:16,class:"uni-icon-wrapper",color:"#bbb",type:"arrowright"})):d("",!0)])),_:3},8,["class","style","hover-class","onClick"])}],["__scopeId","data-v-cbffe582"]]),j=z(v({__name:"playlist",setup(t){const e=k(),l=k(),i=k(!1);return w((t=>{e.value=null==t?void 0:t.id,(async t=>{try{const e=await F(t);console.log(e),l.value=e.playlist}catch(e){console.log(e)}})(null==t?void 0:t.id)})),(t,e)=>{const c=m,d=y,p=a(s("uni-icons"),B),_=b,v=a(s("uni-list-item"),$),k=x("comment");return n(),o(c,{class:"Detail"},{default:r((()=>[u(c,{class:"header"},{default:r((()=>{var t;return[u(c,{class:"bg",style:h({backgroundImage:`url(${null==(t=l.value)?void 0:t.coverImgUrl})`})},{default:r((()=>[u(c,{class:"loading"})])),_:1},8,["style"]),u(c,{class:"header-content"},{default:r((()=>[u(c,{class:"info"},{default:r((()=>{var t;return[u(d,{src:null==(t=l.value)?void 0:t.coverImgUrl,mode:"widthFix"},null,8,["src"]),u(c,{class:"header-right"},{default:r((()=>[u(c,{class:"title"},{default:r((()=>{var t;return[f(g(null==(t=l.value)?void 0:t.name),1)]})),_:1}),u(c,{class:"artist"},{default:r((()=>{var t;return[u(d,{class:"img",src:null==(t=l.value)?void 0:t.creator.avatarUrl},null,8,["src"]),u(c,null,{default:r((()=>{var t;return[f(g(null==(t=l.value)?void 0:t.creator.nickname),1)]})),_:1})]})),_:1})])),_:1})]})),_:1}),u(c,{class:"bot"},{default:r((()=>{var t;return[f(g(null==(t=l.value)?void 0:t.description),1)]})),_:1})])),_:1}),u(c,{class:"btns"},{default:r((()=>[u(c,{class:"btn"},{default:r((()=>{var t;return[u(p,{type:"redo-filled",size:"20"}),f(" "+g((null==(t=l.value)?void 0:t.shareCount)||"分享"),1)]})),_:1}),u(c,{class:"btn"},{default:r((()=>{var t;return[u(p,{type:"chat-filled",size:"20",onClick:e[0]||(e[0]=t=>i.value=!0)}),f(" "+g((null==(t=l.value)?void 0:t.commentCount)||"评论"),1)]})),_:1}),u(c,{class:"btn"},{default:r((()=>{var t;return[u(p,{type:"star-filled",size:"20"}),f(" "+g((null==(t=l.value)?void 0:t.subscribedCount)||"收藏"),1)]})),_:1})])),_:1})]})),_:1}),u(c,null,{default:r((()=>[u(c,{class:"player"},{default:r((()=>[u(p,{"custom-prefix":"iconfont",type:"icon-zantingbofang1",size:"30",color:"red"}),u(_,{size:"14"},{default:r((()=>[f("播放全部")])),_:1}),u(c,null,{default:r((()=>{var t;return[f("("+g(null==(t=l.value)?void 0:t.trackCount)+")",1)]})),_:1})])),_:1}),u(c,{class:"item"},{default:r((()=>{var t;return[(n(!0),S(T,null,C(null==(t=l.value)?void 0:t.tracks,((t,e)=>(n(),o(v,{title:t.name,note:t.ar.map((t=>t.name)).join("/"),ellipsis:"2",showArrow:""},{header:r((()=>[u(c,{class:"no"},{default:r((()=>[f(g(e+1),1)])),_:2},1024)])),_:2},1032,["title","note"])))),256))]})),_:1})])),_:1}),u(k)])),_:1})}}}),[["__scopeId","data-v-64ee7968"]]);export{j as default};
