import{g as a,Y as l,a5 as e,h as s,j as t,o as r,c as u,w as i,a as n,b as o,m as d,t as c,k as v,l as f,F as m,P as p,I as _,i as b,q as y,V as g}from"./index-DjBnUkLC.js";import{_ as h}from"./uni-icons.BwPsJ-Ie.js";import{a as k}from"./uni-list-item.aUG4T5JM.js";import{e as C}from"./index.C5pMNGNR.js";import{C as j}from"./Comment.cl6pZOFs.js";import{_ as x}from"./plugin-vueexport-helper.BCo6x5W8.js";import"./uni-section.QDLSypbN.js";const z=x(a({__name:"playlist",setup(a){const x=l(),z=l(),I=l(!1);e((a=>{x.value=Number(a.id),(async a=>{try{const l=await C(a);z.value=l.playlist}catch(l){console.log(l)}})(x.value)}));const w=()=>{var a;const l=null==(a=z.value)?void 0:a.trackIds.map((a=>a.id));p({url:`/pages/player/player?id=${l}`}),_("ids",l)};return(a,l)=>{const e=b,C=y,U=s(t("uni-icons"),h),$=g,F=s(t("uni-list-item"),k);return r(),u(e,{class:"Detail"},{default:i((()=>[n(e,{class:"header"},{default:i((()=>{var a;return[n(e,{class:"bg",style:o({backgroundImage:`url(${null==(a=z.value)?void 0:a.coverImgUrl})`})},{default:i((()=>[n(e,{class:"loading"})])),_:1},8,["style"]),n(e,{class:"header-content"},{default:i((()=>[n(e,{class:"info"},{default:i((()=>{var a;return[n(C,{src:null==(a=z.value)?void 0:a.coverImgUrl,mode:"widthFix"},null,8,["src"]),n(e,{class:"header-right"},{default:i((()=>[n(e,{class:"title"},{default:i((()=>{var a;return[d(c(null==(a=z.value)?void 0:a.name),1)]})),_:1}),n(e,{class:"artist"},{default:i((()=>{var a;return[n(C,{class:"img",src:null==(a=z.value)?void 0:a.creator.avatarUrl},null,8,["src"]),n(e,null,{default:i((()=>{var a;return[d(c(null==(a=z.value)?void 0:a.creator.nickname),1)]})),_:1})]})),_:1})])),_:1})]})),_:1}),n(e,{class:"bot"},{default:i((()=>{var a;return[d(c(null==(a=z.value)?void 0:a.description),1)]})),_:1})])),_:1}),n(e,{class:"btns"},{default:i((()=>[n(e,{class:"btn"},{default:i((()=>{var a;return[n(U,{type:"redo-filled",size:"20"}),d(" "+c((null==(a=z.value)?void 0:a.shareCount)||"分享"),1)]})),_:1}),n(e,{class:"btn"},{default:i((()=>{var a;return[n(U,{type:"chat-filled",size:"20",onClick:l[0]||(l[0]=a=>I.value=!0)}),d(" "+c((null==(a=z.value)?void 0:a.commentCount)||"评论"),1)]})),_:1}),n(e,{class:"btn"},{default:i((()=>{var a;return[n(U,{type:"star-filled",size:"20"}),d(" "+c((null==(a=z.value)?void 0:a.subscribedCount)||"收藏"),1)]})),_:1})])),_:1})]})),_:1}),n(e,null,{default:i((()=>[n(e,{class:"player"},{default:i((()=>[n(U,{"custom-prefix":"iconfont",type:"icon-zantingbofang1",size:"30",color:"red"}),n($,{size:"14",onClick:w},{default:i((()=>[d("播放全部")])),_:1}),n(e,null,{default:i((()=>{var a;return[d("("+c(null==(a=z.value)?void 0:a.trackCount)+")",1)]})),_:1})])),_:1}),n(e,{class:"item"},{default:i((()=>{var a;return[(r(!0),v(m,null,f(null==(a=z.value)?void 0:a.tracks,((a,l)=>(r(),u(F,{title:a.name,note:a.ar.map((a=>a.name)).join("/"),ellipsis:"2",showArrow:"",clickable:"",onClick:l=>{return e=a.id,p({url:`/pages/player/player?id=${e}`}),void _("id",e);var e}},{header:i((()=>[n(e,{class:"no"},{default:i((()=>[d(c(l+1),1)])),_:2},1024)])),_:2},1032,["title","note","onClick"])))),256))]})),_:1})])),_:1}),n(j,{id:x.value,visible:I.value,"onUpdate:visible":l[1]||(l[1]=a=>I.value=a),type:z.value},null,8,["id","visible","type"])])),_:1})}}}),[["__scopeId","data-v-1960fb0f"]]);export{z as default};
